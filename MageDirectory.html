<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            MageDirectory - Magento 2 Extensions Directory
        </title>
        <meta name="description" content="MageDirectory is simply Magento 2 Extensions Directory, which you can filter by price, category & tags. As the Magento User Base increases, soon there will be demand for the various extensions. MageDirectory is the one stop solution for these needs." />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <link rel="icon" type="image/png" sizes="16x16" href="favicon.png">

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-165359331-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-165359331-1');
        </script>
        <link rel="stylesheet" href="bootstrap.min.css" />
        <link href="style.css" rel="stylesheet" type="text/css" />
    </head>
    <body>

    <header class="navbar navbar-expand navbar-dark flex-column flex-md-row main-navbar">
        <span class="navbar-brand mr-0 mr-md-4">MageDirectory</span>
        <div class="navbar-nav-scroll" style="margin: auto;">
            <h4 style="color:white;margin: auto;">Directory of All Free Magento Extensions</h4>
        </div>

        <ul class="navbar-nav flex-row d-none d-md-flex">

            <li class="nav-item">
                <script async defer src="https://buttons.github.io/buttons.js">
                </script>
                <a class="github-button" data-color-scheme="no-preference: dark; light: light; dark: dark;" href="https://github.com/theshreyas/theshreyas.github.io" data-icon="octicon-star" data-size="large" aria-label="Star ntkme/github-buttons on GitHub">
                    Star
                </a>
                <a aria-label="Watch theshreyas/theshreyas.github.io on GitHub" class="github-button" data-color-scheme="no-preference: dark; light: light; dark: dark;" data-icon="octicon-eye" data-size="large" href="https://github.com/theshreyas/theshreyas.github.io/subscription">
                    Watch
                </a>
                <a aria-label="Issue theshreyas/theshreyas.github.io on GitHub" class="github-button" data-color-scheme="no-preference: dark; light: light; dark: dark;" data-icon="octicon-issue-opened" data-size="large" href="https://github.com/theshreyas/theshreyas.github.io/issues">
                    Issue
                </a>

            </li>
        </ul>
    </header>
    <main role="main">
        <div class="py-3 controls-panel control-top-panel">
            <div class="topfilters">

                <div class="row mb-2">
                    <div class="col-lg-6">
                        <div class="input-group">
                            <input
                                    type="text"
                                    data-jplist-control="textbox-filter"
                                    data-group="group1"
                                    data-name="name-filter"
                                    data-path=".card-title, .description"
                                    data-clear-btn-id="name-clear-btn"
                                    class="form-control"
                                    placeholder="Filter by Name" />

                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="name-clear-btn">Clear</button>
                            </div>

                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="box8">
                           <select id="vendor_filter" data-jplist-control="select-filter" data-group="group1" data-name="vendor-filter">
                                <option value="0" data-path="default">Filter By Vendor</option>
                                <option value="1" data-path=".Amasty">Amasty</option>
                                <option value="2" data-path=".Mageplaza">Mageplaza</option>
                                <option value="3" data-path=".Landofcoder">Landofcoder</option>
                                <option value="4" data-path=".Mageworx">Mageworx</option>
                                <option value="5" data-path=".Magepow">Magepow</option>
                                <option value="6" data-path=".BSSCommerce">BSSCommerce</option>
                                <option value="7" data-path=".CEDCommerce">CEDCommerce</option>
                                <option value="8" data-path=".Magecomp">Magecomp</option>
                                <option value="9" data-path=".Webkul">Webkul</option>
                           </select>
                           <button class="btn btn-outline-secondary selectreset" type="button">Reset</button>
                       </div>
                   </div>
                </div>

                <div class="row mb-2">
                    <div class="col-lg-6">
                         <div class="box8">
                            <select id="category_filter" data-jplist-control="select-filter" data-group="group1" data-name="category-filter">
                                <option value="0" data-path="default">Filter Categories</option>
                            </select>
                            <button class="btn btn-outline-secondary selectreset" type="button">Reset</button>
                        </div>
                    </div>

                    <div class="col-lg-6 d-lg-flex align-items-center">
                        <input
                                id="tags_filter"
                                data-jplist-control="textbox-filter"
                                data-group="group1"
                                data-name="tags-filter"
                                data-path=".badge"
                                type="text"
                                value=""
                                placeholder="Filter by Tags"
                                data-clear-btn-id="tags-clear-btn"
                                class="form-control"
                        />

                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" id="tags-clear-btn">Clear</button>
                        </div>
                    </div>


                </div>
                <div class="row">
                    <div class="col flex flex-wrap align-items-start" style="margin-top:5px;">
                        <label class="checkbox_label">
                            <input
                                    type="checkbox"
                                    data-jplist-control="checkbox-path-filter"
                                    data-path=".marketplace"
                                    data-group="group1"
                                    data-name="name94">
                            Marketplace Only
                            </input>
                        </label>
                        <label class="checkbox_label">
                            <input
                                    type="checkbox"
                                    data-jplist-control="checkbox-path-filter"
                                    data-path=".thirdparty"
                                    data-group="group1"
                                    data-name="name95">
                            Exclude Third-Party Integrators
                            </input>
                        </label>
                        <label class="checkbox_label">
                            <input
                                    type="checkbox"
                                    data-jplist-control="checkbox-path-filter"
                                    data-path=".githubavailable"
                                    data-group="group1"
                                    data-name="name96">
                            Available on GitHub
                            </input>
                        </label>
                        <!-- <label class="checkbox_label">
                            <input
                                    type="checkbox"
                                    data-jplist-control="checkbox-path-filter"
                                    data-path=".pwaready"
                                    data-group="group1"
                                    data-name="name97">
                            PWA Ready
                            </input>
                        </label>
                        <label class="checkbox_label">
                            <input
                                    type="checkbox"
                                    data-jplist-control="checkbox-path-filter"
                                    data-path=".hyva"
                                    data-group="group1"
                                    data-name="name98">
                            Hyva Compatible
                            </input>
                        </label> -->
                    </div>
                </div>

                <div class="row">
                    <div class="col flex flex-wrap align-items-start">
                        <nav
                                data-jplist-control="pagination"
                                data-group="group1"
                                data-items-per-page="3"
                                data-current-page="0"
                                data-disabled-class="disabled"
                                data-selected-class="active"
                                data-jump="top"
                                data-name="pagination1"
                                class="mb-2 mr-3">

                            <!-- first and previous buttons -->
                            <ul class="pagination d-inline-flex">
                                <li class="page-item d-none d-sm-none d-lg-inline-block" data-type="first"><a class="page-link" href="#">«</a></li>
                                <li class="page-item" data-type="prev"><a class="page-link" href="#">‹</a></li>
                            </ul>

                            <!-- pages buttons -->
                            <ul class="pagination d-none d-sm-none d-lg-inline-flex" data-type="pages">
                                <li class="page-item" data-type="page"><a class="page-link" href="#">{pageNumber}</a></li>
                            </ul>

                            <!-- next and last buttons -->
                            <ul class="pagination d-inline-flex">
                                <li class="page-item" data-type="next"><a class="page-link" href="#">›</a></li>
                                <li class="page-item d-none d-sm-none d-lg-inline-block" data-type="last"><a class="page-link" href="#">»</a></li>
                            </ul>

                            <!-- information labels -->
                            <span data-type="info" class="d-none d-sm-none d-lg-inline-flex badge badge-secondary ml-3 p-2">
                                Page {pageNumber} of {pagesNumber}
                            </span>

                            <span data-type="info" class="d-none d-sm-none d-lg-inline-flex badge badge-secondary ml-3 p-2">
                                {itemsNumber} records
                            </span>

                            <!-- items per page dropdown -->
                            <div class="dropdown d-inline-flex ml-lg-3"
                                 data-type="items-per-page-dd"
                                 data-opened-class="show">

                                <button
                                        data-type="panel"
                                        class="btn btn-primary dropdown-toggle"
                                        type="button">
                                    Dropdown button
                                </button>

                                <div
                                        data-type="content"
                                        class="dropdown-menu"
                                        aria-labelledby="dropdownMenuButton">

                                    <a class="dropdown-item" href="#" data-value="15">15 per page</a>
                                    <a class="dropdown-item" href="#" data-value="30">30 per page</a>
                                    <a class="dropdown-item" href="#" data-value="45">45 per page</a>
                                    <a class="dropdown-item" href="#" data-value="0">View All</a>

                                </div>
                            </div>

                        </nav>

                        <!-- dropdown sort control -->
                        <div class="dropdown mr-3"
                             data-jplist-control="dropdown-sort"
                             data-opened-class="show"
                             data-group="group1"
                             data-name="sort1">

                            <button
                                    data-type="panel"
                                    class="btn btn-primary dropdown-toggle"
                                    type="button">
                                Sort by
                            </button>

                            <div
                                    data-type="content"
                                    class="dropdown-menu"
                                    aria-labelledby="dropdownMenuButton">

                                <a class="dropdown-item"
                                   href="#"
                                   data-path="default">Sort By</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".card-title"
                                   data-order="asc"
                                   data-type="text">Name A-Z</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".card-title"
                                   data-order="desc"
                                   data-type="text">Name Z-A</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".vendorname"
                                   data-order="asc"
                                   data-type="text">Vendor A-Z</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".vendorname"
                                   data-order="desc"
                                   data-type="text">Vendor Z-A</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".lastUpdated"
                                   data-order="asc"
                                   data-type="text">Recently Updated</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".lastUpdated"
                                   data-order="desc"
                                   data-type="text">Least Recently Updated</a>

                                <!-- <a class="dropdown-item"
                                   href="#"
                                   data-path=".price .val"
                                   data-order="asc"
                                   data-type="text">Price low to high</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".price .val"
                                   data-order="desc"
                                   data-type="text">Price high to low</a> -->
                            </div>
                        </div>

                        <!-- reset control -->
                        <button
                                data-jplist-control="reset"
                                data-group="group1"
                                data-name="reset"
                                class="btn btn-secondary"
                                type="button">
                            Reset All
                        </button>

                    </div>
                </div>

            </div>
        </div>

        <div class="py-5 bg-light">
            <div id="loading-container">
                <div id="loading">
                </div>
            </div>
            <div class="container">
                <div class="row" data-jplist-group="group1" id="parentBox">
                    <!-- no results control -->
                    <div class="col text-center" data-jplist-control="no-results" data-group="group1" data-name="no-results">No Results Found</div>

                </div>

            </div>
        </div>

        <div class="py-3 py-lg-5 controls-panel control-bottom-panel">
            <div class="topfilters">

                <div class="row">
                    <div class="col flex">
                        <!-- pagination control -->
                        <nav
                                data-jplist-control="pagination"
                                data-group="group1"
                                data-items-per-page="15"
                                data-current-page="0"
                                data-disabled-class="disabled"
                                data-selected-class="active"
                                data-jump="top"
                                data-name="pagination1"
                                class="mb-2 mb-lg-0">

                            <!-- first and previous buttons -->
                            <ul class="pagination d-inline-flex">
                                <li class="page-item d-none d-sm-none d-lg-inline-block" data-type="first"><a class="page-link" href="#">«</a></li>
                                <li class="page-item" data-type="prev"><a class="page-link" href="#">‹</a></li>
                            </ul>

                            <!-- pages buttons -->
                            <ul class="pagination d-none d-sm-none d-lg-inline-flex" data-type="pages">
                                <li class="page-item" data-type="page"><a class="page-link" href="#">{pageNumber}</a></li>
                            </ul>

                            <!-- next and last buttons -->
                            <ul class="pagination d-inline-flex">
                                <li class="page-item" data-type="next"><a class="page-link" href="#">›</a></li>
                                <li class="page-item d-none d-sm-none d-lg-inline-block" data-type="last"><a class="page-link" href="#">»</a></li>
                            </ul>

                            <!-- information labels -->
                            <span data-type="info" class="d-none d-sm-none d-lg-inline-flex badge badge-secondary ml-3 p-2">
                                {startItem} - {endItem} of {itemsNumber}
                            </span>
                            <!-- items per page dropdown -->
                            <div class="dropdown d-inline-flex ml-3"
                                 data-type="items-per-page-dd"
                                 data-opened-class="show">

                                <button
                                        data-type="panel"
                                        class="btn btn-primary dropdown-toggle"
                                        type="button">Items per page</button>

                                <div
                                        data-type="content"
                                        class="dropdown-menu"
                                        aria-labelledby="dropdownMenuButton">

                                    <a class="dropdown-item" href="#" data-value="15">15 per page</a>
                                    <a class="dropdown-item" href="#" data-value="30">30 per page</a>
                                    <a class="dropdown-item" href="#" data-value="45">45 per page</a>
                                    <a class="dropdown-item" href="#" data-value="0">View All</a>

                                </div>
                            </div>

                        </nav>

                        <!-- dropdown sort control -->
                        <div class="dropdown ml-3"
                             data-jplist-control="dropdown-sort"
                             data-opened-class="show"
                             data-group="group1"
                             data-name="sort1">

                            <button
                                    data-type="panel"
                                    class="btn btn-primary dropdown-toggle"
                                    type="button">
                                Sort by
                            </button>

                            <div
                                    data-type="content"
                                    class="dropdown-menu"
                                    aria-labelledby="dropdownMenuButton">

                                <a class="dropdown-item"
                                   href="#"
                                   data-path="default">Sort By</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".card-title"
                                   data-order="asc"
                                   data-type="text">Title A-Z</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".card-title"
                                   data-order="desc"
                                   data-type="text">Title Z-A</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".description"
                                   data-order="asc"
                                   data-type="text">Description A-Z</a>

                                <a class="dropdown-item"
                                   href="#"
                                   data-path=".description"
                                   data-order="desc"
                                   data-type="text">Description Z-A</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </main>
    <!-- IE / Edge babel polyfill -->
    <script src="polyfill.min.js"></script>
    <script src="jplist.min.js"></script>
    <script src="papaparse.min.js"></script>
    <script src="lazysizes.min.js"></script>
    <script>
        const Id = document.getElementById.bind(document);
        let loadingDiv = Id('loading');
        let parentBox = Id('parentBox');
        loadingDiv.style.display = 'block';
        parentBox.style.opacity = '30%';
        function autocomplete(inp, arr) {
            //https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_autocomplete
            var currentFocus;
            inp.addEventListener("focus", function(e) {
                var a,val = this.value.trim();
                if(val == ""){
                    a = document.querySelector("#"+this.id + "autocomplete-list");
                    if(!a){
                        a = document.createElement("DIV");
                        a.setAttribute("id", this.id + "autocomplete-list");
                        a.setAttribute("class", "autocomplete-items");
                        this.parentNode.appendChild(a);
                    }
                    for (i = 0; i < arr.length; i++) {
                        if (arr[i].toUpperCase().includes(val.toUpperCase())) {

                          b = document.createElement("DIV");
                          c = arr[i].toUpperCase().indexOf(val.toUpperCase());

                          substring = arr[i].substr(c, val.length);
                          replaced = arr[i].replace(substring, '<b>' + substring + '</b>');

                          b.innerHTML = replaced;
                          b.innerHTML += "<input type='hidden' value='" + arr[i].trim() + "'>";
                          b.addEventListener("click", function(e) {
                            inp.value = this.getElementsByTagName("input")[0].value.trim();
                            window.history.replaceState(null, null, "?tag="+inp.value);
                            inp.dispatchEvent(new Event('keyup'));
                            // Id('tags_filter').dispatchEvent(new Event('change'));
                            // inp.click();
                            // b.click();
                            // inp.dispatchEvent(new Event('change'));
                            closeAllLists();
                          });
                          a.appendChild(b);
                        }
                    }

                }
            });
            inp.addEventListener("input", function(e) {
                var a, b, c, i, val = this.value;
                var substring,replaced;
                closeAllLists();
                if (!val) { return false;}
                currentFocus = -1;
                a = document.createElement("DIV");
                a.setAttribute("id", this.id + "autocomplete-list");
                a.setAttribute("class", "autocomplete-items");
                this.parentNode.appendChild(a);
                for (i = 0; i < arr.length; i++) {
                    if (arr[i].toUpperCase().includes(val.toUpperCase())) {

                      b = document.createElement("DIV");
                      c = arr[i].toUpperCase().indexOf(val.toUpperCase());

                      substring = arr[i].substr(c, val.length);
                      replaced = arr[i].replace(substring, '<b>' + substring + '</b>');

                      b.innerHTML = replaced;
                      b.innerHTML += "<input type='hidden' value='" + arr[i].trim() + "'>";
                      b.addEventListener("click", function(e) {
                        inp.value = this.getElementsByTagName("input")[0].value.trim();
                        window.history.replaceState(null, null, "?tag="+inp.value);
                        inp.dispatchEvent(new Event('keyup'));
                        closeAllLists();
                      });
                      a.appendChild(b);
                    }
                }
            });
            inp.addEventListener("keydown", function(e) {
              var x = Id(this.id + "autocomplete-list");
              if (x) x = x.getElementsByTagName("div");
              if (e.keyCode == 40) {
                currentFocus++;
                addActive(x);
              } else if (e.keyCode == 38) { //up
                currentFocus--;
                addActive(x);
              } else if (e.keyCode == 13) {
                e.preventDefault();
                if (currentFocus > -1) {
                  if (x) x[currentFocus].click();
                }
              }
            });
            
            function addActive(x) {
                if (!x) return false;
                removeActive(x);
                if(!currentFocus) currentFocus = 0;
                if (currentFocus >= x.length) currentFocus = 0;
                if (currentFocus < 0) currentFocus = (x.length - 1);
                x[currentFocus].classList.add("autocomplete-active");
            }

            function removeActive(x) {
                for (var i = 0; i < x.length; i++) {
                    x[i].classList.remove("autocomplete-active");
                }
            }
            function closeAllLists(elmnt) {
                var x = document.getElementsByClassName("autocomplete-items");
                for (var i = 0; i < x.length; i++) {
                    if (elmnt != x[i] && elmnt != inp) {
                        x[i].parentNode.removeChild(x[i]);
                    }
                }
            }
            document.addEventListener("click", function (e) {
                if(e.target.id === 'tags-clear-btn'){
                    const url = new URL(window.location); 
                    url.searchParams.delete('tag'); 
                    history.replaceState(null, '', url);
                }
                else if(e.target.tagName === 'SPAN' && e.target.classList.contains("badge")) {
                    window.location.search = `tag=${encodeURIComponent(e.target.innerText)}`;
                }
                closeAllLists(e.target);
            });
        }
        let elements = document.getElementsByClassName("selectreset");
        for(let i = 0; i < elements.length; i++) {
            elements[i].onclick = function () {
                var select = elements[i].previousElementSibling;
                select.value = 0;
                select.dispatchEvent(new Event('change'));
            }
        }
        var categories = [
          {
            group: "Content & Customizations",
            options: [
              { key: "translations", label: "Translations & Localization" },
              { key: "mobile", label: "Mobile" },
              { key: "personalization", label: "Personalization & Experience Management" },
              { key: "productcontent", label: "Product Content" },
              { key: "richmedia", label: "Rich Media" },
              { key: "sitesearch", label: "Site Search & Navigation" },
              { key: "blog", label: "Blog" }
            ]
          },
          {
            group: "Shipping & Fulfillment",
            options: [
              { key: "addressverification", label: "Address Verification" },
              { key: "crossborderfulfil", label: "Cross Border Fulfillment" },
              { key: "ordermgmt", label: "Order Management (OMS)" },
              { key: "warehousemgmt", label: "Warehouse Management System (WMS)" },
              { key: "shippingcustom", label: "Shipping Customizations" }
            ]
          },
          {
            group: "Customer Support",
            options: [
              { key: "helpdesk", label: "Helpdesk" },
              { key: "livechat", label: "Livechat" }
            ]
          },
          {
            group: "Accounting & Finance",
            options: [
              { key: "erp", label: "ERP & Accounting" },
              { key: "taxes", label: "Taxes" }
            ]
          },
          {
            group: "Payments & Security",
            options: [
              { key: "checkout", label: "Checkout Enhancements" },
              { key: "fraud", label: "Fraud Prevention" },
              { key: "payment", label: "Payment Integration" },
              { key: "security", label: "Security" }
            ]
          },
          {
            group: "Site Optimization",
            options: [
              { key: "testing", label: "Testing & Segmentation" },
              { key: "hosting", label: "Hosting" },
              { key: "sitemonitoring", label: "Site Monitoring" },
              { key: "performance", label: "Performance" },
              { key: "sitemap", label: "Sitemap" }
            ]
          },
          {
            group: "Administration",
            options: [
              { key: "reporting", label: "Reporting & Analytics" },
              { key: "admintools", label: "Admin Tools" }
            ]
          },
          {
            group: "Marketing",
            options: [
              { key: "emailmarketing", label: "Email Marketing" },
              { key: "crm", label: "CRM" },
              { key: "seo", label: "SEO/SEM" },
              { key: "marketingautomation", label: "Marketing Automation" },
              { key: "advertising", label: "Advertising" }
            ]
          },
          {
            group: "Sales & Motivation",
            options: [
              { key: "comarisonshoppingengines", label: "Comparison Shopping Engines" },
              { key: "gifts", label: "Gifts" },
              { key: "marketplacefeeds", label: "Marketplace Feeds" },
              { key: "pos", label: "Point of Service (POS)" },
              { key: "pricingpromotions", label: "Pricing & Promotions" },
              { key: "loyaltyrewards", label: "Rewards & Loyalty" }
            ]
          },
          {
            group: "Misc",
            options: [
              { key: "developertools", label: "Developer Tools" },
              { key: "themes", label: "Themes" },
              { key: "resources", label: "Resources" },
              { key: "social", label: "Social Connect" },
              { key: "migration", label: "Data Migration/Import" }
            ]
          }
        ];
        const categoryCount = {};
        categories.forEach(category => {
            category.options.forEach(option => {
              categoryCount[option.key] = 0; 
            });
        });
        var vendorImages = ["Magepow","CEDCommerce","Landofcoder","Mageworx","Amasty","Magecomp","BSSCommerce","Mageplaza","Webkul"];
        var select = Id("category_filter");
        Papa.parse("https://theshreyas.github.io/ext.csv", {
            download: true,
            complete: function(results) {
                loadResults(results);
                var tagFilter = Id("tags_filter"); 
                const queryString = window.location.search;
                if (queryString.includes("?tag=")) {
                    setTimeout(function() {
                        tagFilter.value = decodeURIComponent(queryString.split("?tag=")[1]);
                        tagFilter.dispatchEvent(new Event('keyup'));
                        loadingDiv.style.display = 'none';
                        parentBox.style.opacity = '1';
                    }, 900);
                }
                else {
                    loadingDiv.style.display = 'none';
                    parentBox.style.opacity = '1';
                }
            }
        });

        function getCategory(object, value) {//returns key by value
            return Object.keys(object).find(key => object[key] === value);
        }
        function formatRelativeTime(dateString) {
            const parsedDate = new Date(Date.parse(dateString.replace("GMT+5:30", "+05:30")));
            if(parsedDate == 'Invalid Date') 
                return "";
            dateString = parsedDate.toISOString();
            const date = new Date(dateString);
            const now = new Date();
            const diffInSeconds = Math.floor((now - date) / 1000);
            const intervals = {
                year: 365 * 24 * 60 * 60,
                month: 30 * 24 * 60 * 60,
                week: 7 * 24 * 60 * 60,
                day: 24 * 60 * 60,
                hour: 60 * 60,
                minute: 60,
                second: 1
            };
            for (const [interval, seconds] of Object.entries(intervals)) {
                const count = Math.floor(diffInSeconds / seconds);
                if (count >= 1) {
                  return `${count} ${interval}${count !== 1 ? 's' : ''} ago`;
                }
            }
            return 'just now';
        }
        function loadResults(csvData){
            var parentBox = Id('parentBox');
            var index = 0;
            var CategoryKey = undefined;
            var allDivs = [];
            var vendorlist = [];
            var allTags = [];
            csvData.data.forEach((obj)=>{
                if(index != 0 && obj[0] != null && obj[2] != null){
                    var name = obj[1];
                    var description = obj[2];
                    var price = obj[3];
                    var url = obj[4];
                    var reviews = obj[5];
                    var lastupdated = formatRelativeTime(obj[6]);
                    var vendor = obj[7];
                    var tags = obj[8];
                    var activeCategory = obj[9];
                    var github_url = obj[10];
                    var isthirdpary = obj[11];
                    var pwaready = obj[12];
                    const divv = document.createElement('div');
                    divv.setAttribute('class', 'col-md-3 mb-4 divv');
                    divv.setAttribute('data-jplist-item', '');
                    var tags_html = '';
                    var tags_array = tags.split(',');
                    for(var i = 0; i < tags_array.length; i++) 
                    {
                        if(tags_array[i] != ""){
                            tags_html += '<span class="badge '+(i%2 === 0 ? 'badge-info' : 'badge-secondary')+'">'+tags_array[i]+'</span>';
                            allTags.push(tags_array[i]);
                        }
                    }

                    if(activeCategory in categoryCount){
                        CategoryKey = activeCategory;
                        categoryCount[activeCategory]++;
                    }
                    var vendorimage = vendorImages.includes(vendor) ? '<img class="Logo-'+vendor+'" src="logo/'+vendor+'.png">' : '<b>'+vendor+'</b>';
                    var martkeplaceExt = url.includes('commercemarketplace.adobe.com') ? '<div class="marketplace"></div>' : '';
                    var isPWAReady = pwaready == 0 ? '<div class="pwaready"></div>' : '';
                    var thirdpartyExt = isthirdpary == 0 ? '<div class="thirdparty"></div>' : '';
                    var githubUrl = github_url ==  '' ||  github_url ==  null || github_url ==  'null' ? '' : '<a href="'+github_url+'"><img class="githubavailable" alt="Available on Github" title="Available on Github" src="Gh.png"></a>';
                    // var CategoryKey = getCategory(categories,activeCategory);
                    // console.log(activeCategory+' => '+ CategoryKey);

                    divv.innerHTML = '<div class="card box-shadow">'+
                                        '<div class="card-header">'+
                                            '<h5 class="card-title mb-0">'+
                                                '<a target="_blank" href="'+url+'" title="'+name+'">'+name+'</a>'+
                                            '</h5>'+
                                        '</div>'+
                                        '<ul class="list-group list-group-flush">'+
                                            '<li class="list-group-item">'+
                                                '<span class="description">'+truncate(description,240)+'</span>'+
                                            '</li>'+
                                            '<li class="list-group-item">'+
                                                '<div class="lastUpdated">⏱️ '+lastupdated+'</div>'+
                                                '<div class="companyLogo '+vendor+'">'+vendorimage+
                                                '</div>'+
                                            '</li>'+
                                        '</ul>'+
                                        '<div style="display:none;">'+
                                            '<div class="'+CategoryKey+'">'+activeCategory+'</div>'+
                                            '<div class="vendorname">'+vendor+'</div>'+martkeplaceExt+thirdpartyExt+
                                            +isPWAReady+githubUrl+
                                        '</div>'+
                                        '<div class="card-body">'+
                                            tags_html+
                                    '</div>';
                    allDivs.push(divv);
                    vendorlist.push(vendor);
                }
                index++;
            });
            let ct = 1;
            categories.forEach(category => {
                var optGroup = document.createElement("optgroup");
                optGroup.label = category.group;
                category.options.forEach(option => {
                    let key = option.key;
                    let opt = new Option(option.label+'  ('+categoryCount[key]+')',ct++);
                    opt.setAttribute("data-path", "." +key);
                    optGroup.appendChild(opt);
                });
                select.appendChild(optGroup);
            });
            jplist.init();
            function truncate(str, n){
              return (str.length > n) ? str.slice(0, n-1) + '&hellip;' : str;
            };
            jplist.resetContent(function(){
                allDivs.forEach((div)=>{
                    parentBox.appendChild(div);
                });
            });
            var allUniqueTags = [...new Set(allTags)];
            var tagFilter = Id("tags_filter"); 
            autocomplete(tagFilter, allUniqueTags); 
            //             console.log(vendorlist.filter(function(value, index, self) {
            //   return self.indexOf(value) === index;
            // }));
           console.log(categoryCount);
        }

    </script>
    </body>
</html>